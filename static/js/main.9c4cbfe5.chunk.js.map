{"version":3,"sources":["components/common/Preloader/Preloader.module.css","assets/img/Spinner-1s-200px.svg","components/Profile/Info/ImageInput/ImageInput.module.css","components/Profile/Posts/Posts.module.css","components/Profile/Posts/New/NewPost.module.css","assets/img/heart.svg","assets/img/heart-blue.svg","components/Messages/Messages.module.css","assets/img/chat.svg","assets/img/photoMock.png","components/Music/Music.module.css","assets/img/left-arrow.svg","assets/img/right-arrow.svg","components/News/News.module.css","components/Settings/Settings.module.css","components/common/ErrorPage/ErrorPage.module.css","assets/img/error.svg","components/NavBar/Menu/Menu.module.css","components/Login/Login.module.css","components/Users/Users.module.css","components/Messages/CurrentDialog/CurrentDialog.module.css","utilities/validators.js","components/NavBar/Menu/Menu.jsx","components/NavBar/Friends/Friends.jsx","components/NavBar/Friends/FriendsContainer.jsx","components/NavBar/NavBar.jsx","components/common/Preloader/Preloader.jsx","api/api.js","redux/profilePage-reducer.js","components/Profile/Info/ImageInput/ImageInput.jsx","components/Profile/Info/ProfileStatus/ProfileStatus2.jsx","components/Profile/Info/PersonalInfo/PersonalInfo.jsx","components/common/FormsControls/FormsControls.jsx","components/Profile/Info/PersonalInfo/PersonalInfoForm.jsx","components/Profile/Info/Info.jsx","components/Profile/Posts/New/NewPost.jsx","components/Profile/Posts/Old/Post/Post.jsx","components/Profile/Posts/Old/Old.jsx","components/Profile/Posts/Old/OldContainer.jsx","components/Profile/Posts/Posts.jsx","components/Profile/Profile.jsx","hoc/withAuthHoc.js","components/Profile/ProfileContainer.jsx","components/Messages/Interlocutors/Interlocutors.jsx","components/Messages/CurrentDialog/SendMessageForm.jsx","components/Messages/CurrentDialog/CurrentDialog.jsx","redux/messagesPage-reducer.js","components/Messages/Messages.jsx","components/Music/Music.jsx","redux/usersPage-reducer.js","components/Users/Paginator/Paginator.jsx","components/Users/Users.jsx","components/Users/UsersContainer.jsx","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","components/News/News.jsx","components/News/NewsContainer.jsx","components/Settings/Settings.jsx","components/Settings/SettingsContainer.jsx","redux/appReducer.js","App.js","serviceWorker.js","redux/navBar-reducer.js","redux/redux-store.js","index.js","components/Profile/Posts/Old/Post/Post.module.css","assets/img/gear.svg","components/Profile/Info/Info.module.css","components/Users/Paginator/Paginator.module.css","components/Header/Header.module.css","components/NavBar/Friends/Friends.module.css","components/common/FormsControls/FormsControls.module.css","components/Profile/Info/PersonalInfo/PersonalInfo.module.css","assets/img/nobody_profile_image.jpg","components/Messages/Interlocutors/Interlocutors.module.css","components/Profile/Profile.module.css"],"names":["module","exports","maxLength","Menu","className","s","nav","nav__list","item","to","activeClassName","active","Friends","props","friendsList","friendsData","map","el","key","id","width","src","img","alt","name","friends","title","list","FriendsContainer","connect","state","navBar","dispatch","NavBar","navWrapper","Preloader","preloadImg","instance","axios","withCredentials","baseURL","headers","securityAPI","get","then","response","data","usersAPI","pageLimit","currentPage","authAPI","loginData","post","rememberMe","delete","manageSubscribeAPI","userID","profileAPI","userId","statusText","put","status","photoFile","dataObject","ADD_POST","SET_PROFILE_INFO","SET_STATUS_TEXT","SET_IS_PROFILE_YOURS","SET_PROFILE_PHOTO","UPDATE_PROFILE_DATA","initialState","postsData","message","likes","liked","postAreaText","profileInfo","userStatus","isProfileYours","profileReducer","action","type","newPost","info","photos","setProfileInfo","setStatusText","compose","updateProfilePhotoThunk","profilePhoto","a","formData","FormData","append","resultCode","reduxForm","form","onSubmit","handleSubmit","fileInputWrapper","onChange","e","target","files","ProfileStatus","useState","editMode","changeEditMode","changeUserStatus","useEffect","onClick","onBlur","updateStatusThunk","currentTarget","value","autoFocus","statusInput","Contact","contactTitle","contactLink","contactsWrapper","PersonalInfo","personal","fullName","aboutMeWrapper","personalTitle","aboutMe","jobWrapper","lookingForAJob","positionWrapper","lookingForAJobDescription","socialWrapper","Object","keys","contacts","editWrapper","editButton","cancelButton","error","formError","displayError","Textarea","this","input","meta","touched","hasError","errorMessage","React","Component","Input","classNames","ContactInput","inputName","Field","component","PersonalInfoReduxForm","fullNameWrapper","placeholder","isChangesLoading","disabledSaveButton","disabled","Info","setState","changeFormErrorStatus","isFormError","initialFormValues","facebook","vk","website","twitter","instagram","github","youtube","mainLink","imageWrapper","large","profilePhotoMock","height","avatar","objectData","saveProfileDataThunk","undefined","initialValues","required","fieldData","maxLength100","length","NewPostReduxForm","wrapper","validate","Post","labelWrapper","photo","postImage","profileName","likeToggle","isLiked","likedLikeIcon","likeIcon","PostContainer","toggleIsLiked","Old","postsElements","small","old","OldContainer","profilePage","PostsSection","NewPost","addNewPost","currentText","Posts","posts","Profile","profile","mapStateToPropsRedirect","isAuth","authReducer","isAuthorized","withAuthHoc","ProfileAPI","match","params","authorizedId","getProfileInfoThunk","setIsProfileYours","getUserStatusThunk","checkProfile","prevProps","prevState","snapshot","stopSubmit","_error","messages","alert","withRouter","Interlocutors","peopleWrapper","dialogsData","dialog","selectDialog","photoMock","dialogPhoto","SendMessageForm","messageInputWrapper","messagesInput","sendMessageBtn","CurrentDialog","dialogWrapper","selectedDialogIndex","messagesWrapper","classSet","selectNotification","dialogIcon","sendNewMessage","messageInput","SEND_MESSAGE","messagesReducer","newMessage","dialogsDataCopy","JSON","parse","stringify","dialogIndex","push","messagesPage","changeSelectedDialogIndex","myMessages","evt","i","innerText","Music","gearImage","FOLLOW_USER","UFOLLOW_USER","LOAD_USERS","SET_CURRENT_PAGE","SET_TOTAL_COUNT","users","totalUsers","isFetching","isFollowInProgress","usersReducer","u","followed","page","usersCount","currentStatus","filter","setCurrentPage","changePreloaderStatus","toggleFollowProgress","Paginator","totalPagesCount","Math","ceil","pages","portionsCount","currentPortion","changeCurrentPortion","currentRightBorder","changeRightBorder","currentLeftBorder","changeLeftBorder","paginatorWrapper","prevArrow","p","onPageChanged","nextArrow","Users","user","profileImage","userWrapper","userName","userLocation","location","some","unfollowThunk","followButton","followThunk","UsersData","getUsersThunk","followUser","unfollowUser","usersPage","usersData","items","totalCount","Header","header","authData","login","logout","email","captchaUrl","url","setAuthData","checkAuthData","setCaptchaUrl","HeaderApi","HeaderContainer","LoginReduxForm","formInnerWrapper","formLogin","formPassword","loginBottom","isLoading","disabledButton","formSubmit","rememberMeWrapper","checkboxInput","LoginWithAuth","loginThunk","captchaResponse","changeLoadingStatus","loginWrapper","News","news","NewsContainer","Settings","settings","SettingsContainer","authorized","appReducer","App","initializeThunk","path","render","ProfileContainer","UsersContainer","from","exact","AppWithCheck","app","Boolean","window","hostname","navbarReducer","reducers","combineReducers","navBarReducer","formReducer","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","console"],"mappings":"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","file":"static/js/main.9c4cbfe5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Preloader_wrapper__mRgX_\"};","module.exports = __webpack_public_path__ + \"static/media/Spinner-1s-200px.caacf12e.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fileInputWrapper\":\"ImageInput_fileInputWrapper__1Hrij\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"Posts_posts__3KNZe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"NewPost_wrapper__28y4M\"};","module.exports = __webpack_public_path__ + \"static/media/heart.e2fb03b6.svg\";","module.exports = __webpack_public_path__ + \"static/media/heart-blue.5296fdf6.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myMessages\":\"Messages_myMessages__2oDoW\",\"messages\":\"Messages_messages__127oX\"};","module.exports = __webpack_public_path__ + \"static/media/chat.7e0e3b50.svg\";","module.exports = __webpack_public_path__ + \"static/media/photoMock.55b5f2b0.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages\":\"Music_messages__igq5D\"};","module.exports = __webpack_public_path__ + \"static/media/left-arrow.77c86913.svg\";","module.exports = __webpack_public_path__ + \"static/media/right-arrow.4b713cfe.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"news\":\"News_news__1HLiF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settings\":\"Settings_settings__3T_E_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorPage\":\"ErrorPage_errorPage__TNCK9\"};","module.exports = __webpack_public_path__ + \"static/media/error.f36e4c88.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Menu_nav__2UfXk\",\"nav__list\":\"Menu_nav__list__24xDz\",\"item\":\"Menu_item__gApBI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Login_form__1sdVK\",\"formInnerWrapper\":\"Login_formInnerWrapper__OGRH_\",\"loginBottom\":\"Login_loginBottom__2h6wK\",\"formError\":\"Login_formError__jZOOe\",\"formSubmit\":\"Login_formSubmit__1iKid\",\"rememberMeWrapper\":\"Login_rememberMeWrapper__3psDm\",\"checkboxInput\":\"Login_checkboxInput__1oIMa\",\"loginWrapper\":\"Login_loginWrapper__sLUA1\",\"disabledButton\":\"Login_disabledButton__1Srwq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Users_wrapper__11jvS\",\"users\":\"Users_users__1oA0q\",\"user\":\"Users_user__Bji3I\",\"profilePhoto\":\"Users_profilePhoto__25ruu\",\"followButton\":\"Users_followButton__Wf6D6\",\"userLocation\":\"Users_userLocation__3-uu4\",\"userStatus\":\"Users_userStatus__3Mltb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogWrapper\":\"CurrentDialog_dialogWrapper__1d-_W\",\"selectNotification\":\"CurrentDialog_selectNotification__2ZCgY\",\"messageInputWrapper\":\"CurrentDialog_messageInputWrapper__18351\",\"messagesWrapper\":\"CurrentDialog_messagesWrapper__2ovNf\",\"me\":\"CurrentDialog_me__325-a\",\"other\":\"CurrentDialog_other__155F3\"};","import {SubmissionError} from \"redux-form\";\r\n\r\nexport const required = (fieldData) => {\r\n    if (fieldData) return undefined\r\n    return \"This field is required\"\r\n}\r\n\r\nexport let maxLengthCreator = (maxLength) => {\r\n    return (fieldData) => {\r\n        if(fieldData.length > maxLength) return `Max length is ${maxLength + ' symbols'}`\r\n        return undefined\r\n    }\r\n}\r\n\r\nexport const postSubmit = (values) => {\r\n    if (!values.currentText) {\r\n        throw new SubmissionError({\r\n            currentText: 'There is nothing to post',\r\n            _error: \"You can't post nothing\"\r\n        })\r\n    } else if (values.currentText.length > 100) {\r\n        throw new SubmissionError({\r\n            currentText: 'Too large, bro. Max is 100',\r\n            _error: \"Limit is 100 symbols\"\r\n        })\r\n    }\r\n}","import React from 'react';\r\nimport s from './Menu.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Menu = () => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <ul className={s.nav__list}>\r\n                <li className={s.item}><NavLink to=\"/profile\" activeClassName={s.active}>Profile</NavLink></li>\r\n                <li className={s.item}><NavLink to=\"/messages\" activeClassName={s.active}>Messages</NavLink></li>\r\n                <li className={s.item}><NavLink to=\"/news\" activeClassName={s.active}>News</NavLink></li>\r\n                <li className={s.item}><NavLink to=\"/music\" activeClassName={s.active}>Music</NavLink></li>\r\n                <li className={s.item}><NavLink to=\"/settings\" activeClassName={s.active}>Settings</NavLink></li>\r\n                <li className={s.item}><NavLink to=\"/users\" activeClassName={s.active}>Users</NavLink></li>\r\n            </ul>\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default Menu;","import React from 'react';\r\nimport s from './Friends.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Friends = (props) => {\r\n    let friendsList = props.friendsData.map(el =>\r\n        <li key={el.id} className={s.item}>\r\n            <NavLink to=\"/pasha\">\r\n                <img width=\"40\" src={el.img} alt=\"avatar\"/>\r\n                <span>{el.name}</span>\r\n            </NavLink>\r\n        </li>\r\n    )\r\n\r\n    return (\r\n        <section className={s.friends}>\r\n            <h2 className={s.title}>Friends</h2>\r\n            <ul className={s.list}>\r\n                {friendsList}\r\n            </ul>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Friends;\r\n","import Friends from \"./Friends\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        friendsData: state.navBar.friendsData\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n\r\n    }\r\n}\r\n\r\nconst FriendsContainer = connect(mapStateToProps, mapDispatchToProps) (Friends)\r\nexport default FriendsContainer;\r\n","import React from 'react';\r\nimport s from './NavBar.module.css';\r\nimport Menu from \"./Menu/Menu\";\r\nimport FriendsContainer from \"./Friends/FriendsContainer\";\r\n\r\nconst NavBar = (props) => {\r\n    return (\r\n        <div className={s.navWrapper}>\r\n            <Menu/>\r\n            <FriendsContainer/>\r\n        </div>\r\n);\r\n}\r\n\r\nexport default NavBar;\r\n","import React from \"react\";\r\nimport * as s from './Preloader.module.css';\r\nimport preloadImg from '../../../assets/img/Spinner-1s-200px.svg';\r\n\r\nlet Preloader = (props) => {\r\n    return (\r\n        <div className={s.wrapper}>\r\n            <img src={preloadImg} alt=\"\"/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader;","import * as axios from 'axios';\r\n\r\nlet instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"API-KEY\": \"d7b00a42-897a-4e8f-9782-45121810f4b8\"\r\n    }\r\n})\r\nexport const securityAPI = {\r\n    getCaptcha() {\r\n        return instance.get('security/get-captcha-url').then(response => response.data)\r\n    }\r\n}\r\n\r\nexport const usersAPI = {\r\n    getUsers(pageLimit, currentPage) {\r\n        return instance.get(`users?count=${pageLimit}&page=${currentPage}`)\r\n            .then(response => response.data)\r\n    }\r\n}\r\nexport const authAPI = {\r\n    getAuthData() {\r\n        return instance.get(`auth/me`).then(response => response.data)\r\n    },\r\n    login(loginData) {\r\n        return instance.post(`auth/login`, {...loginData, rememberMe: false}).then(response => response.data)\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`).then(response => response.data)\r\n    }\r\n}\r\n\r\nexport const manageSubscribeAPI = {\r\n    followUser(userID) {\r\n        return instance.post(`follow/${userID}`).then(response => response.data)\r\n    },\r\n    unfollowUser(userID) {\r\n        return instance.delete(`follow/${userID}`).then(response => response.data)\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfileInfo(userId) {\r\n        return instance.get(`profile/${userId}`).then(response => response.data)\r\n    },\r\n    updateUserStatus(statusText) {\r\n        return instance.put(`profile/status`, {status: statusText})\r\n    },\r\n    getUserStatus(userID) {\r\n        return instance.get(`profile/status/${userID}`).then(response => response.data)\r\n    },\r\n    changeProfilePhoto(photoFile) {\r\n        return instance.put('profile/photo', photoFile, {headers: {'Content-type': 'multipart/form-data'}}).then(response => response.data)\r\n    },\r\n    saveProfileData(dataObject) {\r\n        return instance.put('profile', dataObject).then(response => response.data)\r\n    }\r\n}\r\n\r\n","import {profileAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nconst ADD_POST = 'profilePage-reducer/ADD-POST'\r\nconst SET_PROFILE_INFO = 'profilePage-reducer/SET-PROFILE-INFO'\r\nconst SET_STATUS_TEXT = 'profilePage-reducer/SET-STATUS-TEXT'\r\nconst SET_IS_PROFILE_YOURS = 'profilePage-reducer/SET_IS_PROFILE_YOURS'\r\nconst SET_PROFILE_PHOTO = 'profilePage-reducer/SET_PROFILE_PHOTO'\r\nconst UPDATE_PROFILE_DATA = 'profilePage-reducer/UPDATE_PROFILE_DATA'\r\n\r\nlet initialState = {\r\n    postsData: [\r\n        {id: 1, message: \"It's my first props!\", likes: 20, liked: false},\r\n        {id: 2, message: \"Wow! That's amazing!\", likes: 12, liked: false}\r\n    ],\r\n    postAreaText: '',\r\n    profileInfo: null,\r\n    userStatus: '',\r\n    isProfileYours: false\r\n}\r\n\r\n\r\nlet profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {\r\n                id: 3,\r\n                message: action.message,\r\n                likes: 0,\r\n                liked: false\r\n            }\r\n            return {\r\n                ...state,\r\n                postsData: [newPost, ...state.postsData],\r\n                postAreaText: \"\"\r\n            }\r\n        case SET_PROFILE_INFO:\r\n            return {\r\n                ...state,\r\n                profileInfo: action.info\r\n\r\n            }\r\n        case SET_STATUS_TEXT:\r\n            return {\r\n                ...state,\r\n                userStatus: action.statusText\r\n            }\r\n        case SET_IS_PROFILE_YOURS:\r\n            return {\r\n                ...state,\r\n                isProfileYours: action.status\r\n            }\r\n        case SET_PROFILE_PHOTO:\r\n            return {\r\n                ...state,\r\n                profileInfo: {...state.profileInfo, photos: action.photos}\r\n            }\r\n        case UPDATE_PROFILE_DATA:\r\n            return {\r\n                ...state,\r\n                profileInfo: {...action.info}\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport default profileReducer;\r\n\r\nexport const addNewPost = (message) => ({ type: ADD_POST, message: message})\r\nexport const setProfileInfo = (info) => ({ type: SET_PROFILE_INFO, info})\r\nexport const setStatusText = (statusText) => ({ type: SET_STATUS_TEXT, statusText})\r\nexport const setIsProfileYours = (status) => ({ type: SET_IS_PROFILE_YOURS, status})\r\nexport const setProfilePhoto = (photos) => ({ type: SET_PROFILE_PHOTO, photos})\r\nexport const updateProfileData = (info) => ({ type: UPDATE_PROFILE_DATA, info})\r\n\r\nexport const getProfileInfoThunk = (userId) => {\r\n    return async (dispatch) => {\r\n        let data = await profileAPI.getProfileInfo(userId)\r\n        dispatch(setProfileInfo(data))\r\n    }\r\n}\r\nexport const updateStatusThunk = (statusText) => {\r\n    return async (dispatch) => {\r\n        let response = await profileAPI.updateUserStatus(statusText);\r\n        if (response.data.resultCode === 0) {\r\n            return dispatch(setStatusText(statusText))\r\n        } else {\r\n            return alert(\"Too large status or server error\")\r\n        }\r\n    }\r\n}\r\nexport const getUserStatusThunk = (userID) => {\r\n    return async (dispatch) => {\r\n        let data = await profileAPI.getUserStatus(userID)\r\n        dispatch(setStatusText(data))\r\n    }\r\n}\r\nexport const updateProfilePhotoThunk = (profilePhoto) => {\r\n    return async (dispatch) => {\r\n        const formData = new FormData();\r\n        formData.append('image', profilePhoto)\r\n        let response = await profileAPI.changeProfilePhoto(formData)\r\n        if (response.resultCode === 0) {\r\n            dispatch(setProfilePhoto(response.data.photos))\r\n        }\r\n    }\r\n}\r\nexport const saveProfileDataThunk = (dataObject) => {\r\n    return async (dispatch) => {\r\n        let data = await profileAPI.saveProfileData(dataObject)\r\n        if (data.resultCode === 0) {\r\n            dispatch(updateProfileData(dataObject))\r\n        } else {\r\n            dispatch(stopSubmit(\"profileEdit\", {_error: data.messages[0] || \"Some error\"}))\r\n        }\r\n\r\n    }\r\n}\r\n\r\n","import React from \"react\";\r\nimport s from './ImageInput.module.css'\r\nimport {reduxForm} from \"redux-form\";\r\nimport {compose} from \"redux\";\r\nimport {connect} from \"react-redux\";\r\nimport {updateProfilePhotoThunk} from \"../../../../redux/profilePage-reducer\";\r\n\r\n\r\nlet ImageInput = (props) => {\r\n    let onFileSelected = (e) => {\r\n        props.updateProfilePhotoThunk(e.target.files[0])\r\n    }\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <label className={s.fileInputWrapper}>\r\n                <span>Click to select new</span>\r\n                <input type=\"file\" name='selectFile' onChange={onFileSelected}/>\r\n            </label>\r\n        </form>\r\n    )\r\n}\r\n\r\n// let ImageInputReduxForm = reduxForm({form:'imageInput'})(ImageInput)\r\n\r\n\r\nexport default compose(\r\n    connect(()=>{}, {updateProfilePhotoThunk}),\r\n    reduxForm({form:'imageInput'})\r\n)(ImageInput)\r\n\r\n","import React, {useEffect, useState} from \"react\";\r\nimport s from './../PersonalInfo/PersonalInfo.module.css';\r\n// this is how we use fc instead of class (hooks)\r\nlet ProfileStatus = (props) => {\r\n    let [editMode, changeEditMode] = useState(false);\r\n    let [userStatus, changeUserStatus] = useState(props.userStatus)\r\n\r\n    let activateEditMode = () => {\r\n        changeEditMode(true)\r\n    }\r\n\r\n    let deactivateEditMode = () => {\r\n        changeEditMode(false)\r\n        props.updateStatusThunk(userStatus)\r\n    }\r\n\r\n    let onChangeInput = (e) => {\r\n        changeUserStatus(e.currentTarget.value);\r\n    }\r\n\r\n    useEffect(() => {changeUserStatus(props.userStatus)}, [props.userStatus])\r\n\r\n\r\n    return (\r\n        <div className={s.status} onClick={activateEditMode} onBlur={deactivateEditMode}>\r\n            {\r\n                editMode ?\r\n                    <input onChange={onChangeInput} autoFocus={true} type=\"text\"\r\n                           value={userStatus} className={s.statusInput}/> :\r\n                    <span className={s.statusText}>{props.userStatus ? props.userStatus : \"No status\"}</span>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileStatus","import React, {useEffect} from 'react';\r\nimport s from './PersonalInfo.module.css';\r\nimport ProfileStatus from \"./../ProfileStatus/ProfileStatus2\";\r\n\r\nconst PersonalInfo = (props) => {\r\n    return (\r\n        <div className={s.personal}>\r\n            <h2 className={s.name}>{props.profileInfo.fullName}</h2>\r\n            <ProfileStatus isProfileYours={props.isProfileYours} userStatus={props.userStatus}\r\n                           updateStatusThunk={props.updateStatusThunk}/>\r\n            <div className={s.personal}>\r\n                <p className={s.aboutMeWrapper}>\r\n                    <span className={s.personalTitle}>About me:</span>\r\n                    <span>{props.profileInfo.aboutMe}</span>\r\n                </p>\r\n                <p className={s.jobWrapper}>\r\n                    <span className={s.personalTitle}>Job seeker:</span>\r\n                    <span>{props.profileInfo.lookingForAJob ? <span>Yes</span> : <span>No</span>}</span>\r\n                </p>\r\n                <p className={s.positionWrapper}>\r\n                    <span className={s.personalTitle}>Position:</span>\r\n                    <span>{props.profileInfo.lookingForAJobDescription}</span>\r\n                </p>\r\n                <fieldset className={s.socialWrapper}>\r\n                    <legend>Social media links:</legend>\r\n                    {Object.keys(props.profileInfo.contacts).map(key => {\r\n                        return <Contact key={key} contactTitle={key} contactLink={props.profileInfo.contacts[key]}/>\r\n                    })}\r\n                </fieldset>\r\n                {props.isProfileYours && props.editMode === true &&\r\n                <div className={s.editWrapper}>\r\n                    <button className={s.editButton}>Save changes</button>\r\n                    <p onClick={() => {\r\n                        props.changeEditMode(false)\r\n                    }} className={s.cancelButton}>Cancel</p>\r\n                </div>}\r\n                {props.error && <p className={s.formError}>{props.error}</p>}\r\n                {props.error && props.displayError(props.error)}\r\n            </div>\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nlet Contact = ({contactTitle, contactLink}) => {\r\n    return (\r\n        <div className={s.contactsWrapper}>\r\n            <p className={s.contactTitle}>{contactTitle}:</p>\r\n            <p>{contactLink}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PersonalInfo;","import React from \"react\";\r\nimport s from './FormsControls.module.css'\r\nimport classNames from 'classnames'\r\n\r\nexport class Textarea extends React.Component {\r\n    render() {\r\n        return (\r\n            <>\r\n                <textarea {...this.props.input} {...this.props}\r\n                          className={this.props.meta.error && this.props.meta.touched ? s.error : 'field'}/>\r\n                {this.hasError && <span className={s.errorMessage}>{this.props.meta.error}</span>}\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport const Input = (props) => {\r\n    return (\r\n        <>\r\n            <input {...props.input} {...props} className={classNames(props.meta.error && props.meta.touched ? s.error : 'field')}/>\r\n            {props.meta.error && props.meta.touched && <span className={s.errorMessage}>{props.meta.error}</span>}\r\n        </>\r\n\r\n    )\r\n}\r\n","import React from 'react';\r\nimport s from './PersonalInfo.module.css';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../../../common/FormsControls/FormsControls\";\r\n\r\n\r\nconst PersonalInfoForm = (props) => {\r\n    return (\r\n        <form className={s.personal} onSubmit={props.handleSubmit}>\r\n            <h2 className={s.name + ' visually-hidden'}>{props.profileInfo.fullName}</h2>\r\n            <label className={s.fullNameWrapper}>\r\n                <span>Full name:</span>\r\n                <Field name={'fullName'} component={'input'} type={'text'} placeholder={'Name Surname'}/>\r\n            </label>\r\n            <label className={s.aboutMeWrapper}>\r\n                <span>About me:</span>\r\n                <Field name={'aboutMe'} component={'input'} type={'text'} placeholder={'a few words..'}/>\r\n            </label>\r\n            <label className={s.jobWrapper}>\r\n                <span>Job seeker:</span>\r\n                <Field name={'lookingForAJob'} component={'input'} type={'checkbox'}/>\r\n            </label>\r\n            <label className={s.positionWrapper}>\r\n                <span>Position:</span>\r\n                <Field name={'lookingForAJobDescription'} component={'input'} type={'text'} placeholder={'it or gastronomy?'}/>\r\n            </label>\r\n            <fieldset className={s.socialWrapper}>\r\n                <legend>Social media links:</legend>\r\n                {Object.keys(props.profileInfo.contacts).map(key => {\r\n                    return <ContactInput profileInfo={props.profileInfo} key={key} inputName={key}/>\r\n                })}\r\n            </fieldset>\r\n            {props.isProfileYours && props.editMode === true &&\r\n            <div className={s.editWrapper}>\r\n                {props.isChangesLoading ?\r\n                    <button className={s.disabledSaveButton} disabled={true}>Loading..</button> :\r\n                    <button className={s.editButton}>Save changes</button>}\r\n                <p onClick={() => {\r\n                    props.changeEditMode(false)\r\n                }} className={s.cancelButton}>Cancel</p>\r\n            </div>}\r\n            {props.error && <p className={s.formError}>{props.error}</p>}\r\n            {props.error && props.displayError(props.error)}\r\n        </form>\r\n\r\n    )\r\n}\r\nlet ContactInput = ({profileInfo, inputName}) => {\r\n    return (\r\n        <label>\r\n            <span>{inputName}</span>\r\n            <Field name={inputName} component={Input} type={'text'}/>\r\n        </label>\r\n    )\r\n\r\n}\r\n\r\nconst PersonalInfoReduxForm = reduxForm({form: 'profileEdit'})(PersonalInfoForm)\r\n\r\nexport default PersonalInfoReduxForm;","import React from 'react';\r\nimport s from './Info.module.css';\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport profilePhotoMock from '../../../assets/img/nobody_profile_image.jpg'\r\nimport ImageInput from \"./ImageInput/ImageInput\";\r\nimport PersonalInfo from \"./PersonalInfo/PersonalInfo\";\r\nimport PersonalInfoForm from \"./PersonalInfo/PersonalInfoForm\";\r\n\r\nclass Info extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            editMode: false, // if true - edit form shows instead of info block\r\n            isFormError: false, // if true - form does not save changes\r\n            isChangesLoading: false // if true - save changes button is disabled\r\n        };\r\n    }\r\n\r\n    changeEditMode = (status) => {\r\n        this.setState({editMode: status})\r\n    }\r\n    changeFormErrorStatus = (status) => {\r\n        this.setState({isFormError: status})\r\n    }\r\n    initialFormValues = () => {\r\n        let profileInfo = this.props.profileInfo\r\n        return { ...profileInfo,\r\n            facebook: profileInfo.contacts.facebook,\r\n            vk: profileInfo.contacts.vk,\r\n            website: profileInfo.contacts.website,\r\n            twitter: profileInfo.contacts.twitter,\r\n            instagram: profileInfo.contacts.instagram,\r\n            github: profileInfo.contacts.github,\r\n            youtube: profileInfo.contacts.youtube,\r\n            mainLink: profileInfo.contacts.mainLink\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let onSubmit = (formData) => {\r\n            // making deep copy of formData obj to save contacts also\r\n            let objectData = {\r\n                ...formData, contacts: {\r\n                    facebook: formData.facebook,\r\n                    vk: formData.vk,\r\n                    instagram: formData.instagram,\r\n                    website: formData.website,\r\n                    twitter: formData.twitter,\r\n                    youtube: formData.youtube,\r\n                    github: formData.github\r\n                }\r\n            }\r\n            this.setState({isChangesLoading: true})\r\n            this.props.saveProfileDataThunk(objectData)\r\n                .then(() => {\r\n                    this.changeEditMode(false)\r\n                    this.setState({isChangesLoading: false})\r\n                })\r\n        }\r\n\r\n        let displayError = (errorMessage) => {\r\n            if (errorMessage !== undefined) {\r\n                return <p className={s.formError}>{errorMessage}</p>\r\n            } else {\r\n                this.changeFormErrorStatus(true)\r\n            }\r\n        }\r\n        if (!this.props.profileInfo) {\r\n            return <Preloader/>\r\n        } else {\r\n            return (\r\n                <section className={s.info}>\r\n                    <div className={s.imageWrapper}>\r\n                        <img\r\n                            src={this.props.profileInfo.photos.large ? this.props.profileInfo.photos.large : profilePhotoMock}\r\n                            height=\"300\" alt=\"profile pic\" className={s.avatar}/>\r\n                        {this.props.isProfileYours && this.state.editMode && <ImageInput/>}\r\n                    </div>\r\n\r\n                    {this.state.editMode ?\r\n                        <PersonalInfoForm onSubmit={onSubmit}\r\n                                          isChangesLoading={this.state.isChangesLoading}\r\n                                          editMode={this.state.editMode}\r\n                                          changeEditMode={this.changeEditMode}\r\n                                          displayError={displayError}\r\n                                          {...this.props}\r\n                                          initialValues={this.initialFormValues()}/> :\r\n                        <PersonalInfo {...this.props} editMode={this.editMode}/>}\r\n                    {this.props.isProfileYours && this.state.editMode === false &&\r\n                    <button onClick={() => {\r\n                        this.changeEditMode(true)\r\n                    }} className={s.editButton}>Edit Profile</button>}\r\n                </section>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default Info;","import React from 'react';\r\nimport s from './NewPost.module.css';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../../../common/FormsControls/FormsControls\";\r\nimport {maxLengthCreator, required} from \"../../../../utilities/validators\";\r\n\r\nlet maxLength100 = maxLengthCreator(100);\r\n\r\nconst NewPostForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className={s.wrapper}>\r\n            <Field validate={[required, maxLength100]} name='currentText' component={Textarea} placeholder=\"What's new?\"/>\r\n            <button type='submit'>Post</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nlet NewPostReduxForm = reduxForm({form: 'addPost'}) (NewPostForm)\r\n\r\nexport default NewPostReduxForm;","import React, {useState} from 'react';\r\nimport s from './Post.module.css';\r\nimport likeIcon from './../../../../../assets/img/heart.svg'\r\nimport likedLikeIcon from './../../../../../assets/img/heart-blue.svg'\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        <div className={s.post}>\r\n            <div className={s.labelWrapper}>\r\n                <img src={props.photo}\r\n                     alt=\"avatar\" height=\"40\" className={s.postImage}/>\r\n                <span className={s.profileName}>{props.name}</span>\r\n            </div>\r\n            <p className={s.message}>{props.message}</p>\r\n            <p className={s.likes} onClick={props.likeToggle}>\r\n                {props.isLiked ? <img src={likedLikeIcon} alt=\"likes count\" width='18px'/>\r\n                : <img src={likeIcon} alt=\"likes count\" width='18px'/>}\r\n                {props.isLiked ? props.likes + 1 : props.likes}\r\n            </p>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst PostContainer = (props) => {\r\n    let [isLiked, toggleIsLiked] = useState(false);\r\n\r\n    let likeToggle = (e) => {\r\n        if (isLiked === false) {\r\n            toggleIsLiked(true)\r\n        } else {\r\n            toggleIsLiked(false)\r\n        }\r\n    }\r\n    return <Post {...props} likeToggle={likeToggle} isLiked={isLiked}/>\r\n}\r\n\r\nexport default PostContainer;","import React from 'react';\r\nimport s from './Old.module.css';\r\nimport Post from './Post/Post';\r\n\r\nconst Old = (props) => {\r\n    let postsElements = props.postsData\r\n        .map(el => <Post photo={props.profileInfo.photos.small}\r\n                         key={el.id} message={el.message}\r\n                         likes={el.likes} name={props.profileInfo.fullName} />)\r\n    return (\r\n        <div className={s.old}>\r\n            {postsElements}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Old;","import Old from \"./Old\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n      postsData: state.profilePage.postsData\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n\r\n    }\r\n}\r\n\r\nconst OldContainer = connect(mapStateToProps, mapDispatchToProps) (Old)\r\n\r\nexport default OldContainer;","import React from 'react';\r\nimport s from './Posts.module.css';\r\nimport NewPostReduxForm from \"./New/NewPost\";\r\nimport OldContainer from \"./Old/OldContainer\";\r\n\r\nconst Posts = (props) => {\r\n    return (\r\n        <section className={s.posts}>\r\n            {props.isProfileYours && <PostsSection {...props} />}\r\n        </section>\r\n    )\r\n}\r\n\r\nconst PostsSection = (props) => {\r\n    let addNewPost = (formData) => {\r\n        props.addNewPost(formData.currentText)\r\n        formData.currentText = '';\r\n    }\r\n    return (\r\n        <>\r\n            <h2 className='visually-hidden'>My posts</h2>\r\n            <NewPostReduxForm onSubmit={addNewPost} />\r\n            <OldContainer {...props}/>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Posts;","import React from 'react';\r\nimport Info from './Info/Info';\r\nimport Posts from './Posts/Posts';\r\nimport s from './Profile.module.css';\r\n\r\nconst Profile = (props) => {\r\n    return (\r\n        <section className={s.profile}>\r\n            <div className={s.wrapper}>\r\n                <Info {...props} />\r\n                <Posts {...props}/>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Profile;\r\n","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\n// let mapStateToPropsRedirect = (state) => ({\r\n//     isAuth: state.authReducer.isAuthorized\r\n// })\r\n//\r\n// export const withAuthHoc = (Component) => {\r\n//     class WrapperContainer extends React.Component {\r\n//         render() {\r\n//             if (this.props.isAuth === false) {return <Redirect to='/login'/>}\r\n//             return <Component {...this.props}/>\r\n//         }\r\n//     }\r\n//     let WrapperWithAuthContainer = connect(mapStateToPropsRedirect) (WrapperContainer)\r\n//\r\n//     return WrapperWithAuthContainer\r\n//\r\n// }\r\n\r\nlet mapStateToPropsRedirect = (state) => ({\r\n    isAuth: state.authReducer.isAuthorized\r\n})\r\n\r\nexport const withAuthHoc = (Component) => {\r\n    let wrapperContainer = (props) => {\r\n        if (props.isAuth === false) {\r\n            // debugger;\r\n            return <Redirect to='/login'/>\r\n        } else {\r\n            // debugger;\r\n            return <Component {...props}/>\r\n        }\r\n    }\r\n    let WrapperWithAuthContainer = connect(mapStateToPropsRedirect)(wrapperContainer)\r\n    return WrapperWithAuthContainer;\r\n}","import React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    getProfileInfoThunk,\r\n    updateStatusThunk,\r\n    getUserStatusThunk,\r\n    addNewPost,\r\n    setIsProfileYours,\r\n    saveProfileDataThunk,\r\n    setProfileInfo\r\n} from \"../../redux/profilePage-reducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {withAuthHoc} from \"../../hoc/withAuthHoc\";\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileAPI extends React.Component {\r\n    checkProfile() {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.authorizedId;\r\n            // userId = 8001;\r\n        }\r\n        this.props.getProfileInfoThunk(userId).then((response) => {\r\n\r\n            if (this.props.profileInfo.userId === this.props.authorizedId) {\r\n                this.props.setIsProfileYours(true)\r\n            } else {\r\n                this.props.setIsProfileYours(false)\r\n            }\r\n        })\r\n        this.props.getUserStatusThunk(userId)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.checkProfile()\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props.match.params.userId !== prevProps.match.params.userId) {\r\n            this.checkProfile()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return <Profile profileInfo={this.props.profileInfo}\r\n                        userStatus={this.props.userStatus}\r\n                        updateStatusThunk={this.props.updateStatusThunk}\r\n                        addNewPost={this.props.addNewPost}\r\n                        authorizedId={this.props.authorizedId}\r\n                        isProfileYours={this.props.isProfileYours}\r\n                        saveProfileDataThunk={this.props.saveProfileDataThunk}/>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profileInfo: state.profilePage.profileInfo,\r\n    isAuth: state.authReducer.isAuthorized,\r\n    userStatus: state.profilePage.userStatus,\r\n    authorizedId: state.authReducer.id,\r\n    isProfileYours: state.profilePage.isProfileYours\r\n});\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        saveProfileDataThunk, getProfileInfoThunk, updateStatusThunk,\r\n        getUserStatusThunk, addNewPost, setIsProfileYours, setProfileInfo\r\n    }),\r\n    withAuthHoc,\r\n    withRouter\r\n)(ProfileAPI)\r\n\r\n\r\n","import s from \"../Interlocutors/Interlocutors.module.css\";\r\nimport React from \"react\";\r\n\r\n\r\nlet Interlocutors = (props) => {\r\n    return (\r\n        <div className={s.peopleWrapper}>\r\n            {props.dialogsData.map(dialog => {\r\n                return (\r\n                    <p key={dialog.id}\r\n                       className={s.dialog}\r\n                       onClick={props.selectDialog}>\r\n                        <img src={dialog.photo ? dialog.photo : props.photoMock} alt=\"\" width='45' className={s.dialogPhoto}/>\r\n                        <span>{dialog.name}</span>\r\n                    </p> // map all the people with whom we had dialog\r\n                )\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Interlocutors;\r\n\r\n","import s from \"../CurrentDialog/CurrentDialog.module.css\";\r\nimport React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../../common/FormsControls/FormsControls\";\r\n\r\nlet SendMessage = (props) => {\r\n    return (\r\n        <form className={s.messageInputWrapper} onSubmit={props.handleSubmit}>\r\n            <Field name={'messageInput'} placeholder='Type message here..' component={Textarea} className={s.messagesInput} />\r\n            <button className={s.sendMessageBtn}>Send</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nlet SendMessageForm = reduxForm({form: 'sendMessage'})(SendMessage)\r\nexport default SendMessageForm;","import s from \"../CurrentDialog/CurrentDialog.module.css\";\r\nimport React from \"react\";\r\nimport SendMessageForm from \"./SendMessageForm\"\r\nimport dialogIcon from \"./../../../assets/img/chat.svg\"\r\n\r\nlet CurrentDialog = (props) => {\r\n    let onSubmit = (formData) => {\r\n        props.sendNewMessage(formData.messageInput, props.selectedDialogIndex)\r\n        formData.messageInput = ''\r\n    }\r\n    return (\r\n        <div className={s.dialogWrapper}>\r\n\r\n            {props.selectedDialogIndex !== null ?\r\n                <div className={s.messagesWrapper}>\r\n                    {props.dialogsData[props.selectedDialogIndex].messages.map(message => { // map all the messages from selected dialog\r\n                        return <p key={message.id} className={s[message.classSet]}>{message.message}</p>\r\n                    })}\r\n                </div>\r\n                :\r\n                <p className={s.selectNotification}>\r\n                    <img src={dialogIcon} alt=\"chat icon\" width=\"100\"/>\r\n                    <span>Select a dialog</span>\r\n                </p>\r\n            }\r\n            {props.selectedDialogIndex !== null && <SendMessageForm onSubmit={onSubmit}/>}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default CurrentDialog;\r\n\r\n","const SEND_MESSAGE = 'messagesPage-reducer/SEND-MESSAGE'\r\n\r\n// at the moment there is no api for dialogs at our server, so I temporarily put mocks\r\nlet initialState = {\r\n    dialogsData: [\r\n        {id: 111, name: \"Olga Plotskaya\", photo: '', messages: [\r\n                {id: 11, message: \"hi Olga Plotskaya\", classSet: \"me\"},\r\n                {id: 22, message: \"heya\", classSet: \"other\"},\r\n                {id: 33, message: \"What's up?\", classSet: \"me\"},\r\n                {id: 44, message: \"ok\", classSet: \"other\"},\r\n                {id: 55, message: \"and you?\", classSet: \"other\"}\r\n                ]},\r\n        {id: 222, name: \"Lukasz Kowalski\", photo: '', messages: [\r\n                {id: 11, message: \"hello Lukasz\", classSet: \"me\"},\r\n                {id: 22, message: \"heya\", classSet: \"other\"},\r\n                {id: 33, message: \"What's up?\", classSet: \"me\"},\r\n                {id: 44, message: \"ok\", classSet: \"other\"},\r\n                {id: 55, message: \"and you?\", classSet: \"other\"}\r\n            ]},\r\n        {id: 333, name: \"William Smith\", photo: '', messages: [\r\n                {id: 11, message: \"hi William\", classSet: \"me\"},\r\n                {id: 22, message: \"heya\", classSet: \"other\"},\r\n                {id: 33, message: \"What's up?\", classSet: \"me\"},\r\n                {id: 44, message: \"ok\", classSet: \"other\"},\r\n                {id: 55, message: \"and you?\", classSet: \"other\"}\r\n            ]},\r\n        {id: 444, name: \"Jorge Washington\", photo: '', messages: [\r\n                {id: 11, message: \"hi Jorge\", classSet: \"me\"},\r\n                {id: 22, message: \"heya\", classSet: \"other\"},\r\n                {id: 33, message: \"What's up?\", classSet: \"me\"},\r\n                {id: 44, message: \"ok\", classSet: \"other\"},\r\n                {id: 55, message: \"and you?\", classSet: \"other\"}\r\n            ]},\r\n        {id: 555, name: \"Thom Yorke\", photo: '', messages: [\r\n                {id: 11, message: \"hi Thom\", classSet: \"me\"},\r\n                {id: 22, message: \"heya\", classSet: \"other\"},\r\n                {id: 33, message: \"What's up?\", classSet: \"me\"},\r\n                {id: 44, message: \"ok\", classSet: \"other\"},\r\n                {id: 55, message: \"and you?\", classSet: \"other\"}\r\n            ]}\r\n    ]\r\n}\r\nlet messagesReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            let newMessage = {\r\n                message: action.message,\r\n                classSet: 'me'\r\n            }\r\n            let dialogsDataCopy = JSON.parse(JSON.stringify(state.dialogsData))\r\n            dialogsDataCopy[action.dialogIndex].messages.push(newMessage)\r\n            return {\r\n                ...state,\r\n                dialogsData: dialogsDataCopy,\r\n\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport default messagesReducer;\r\n\r\nexport const sendNewMessage = (message, dialogIndex) => ({ type: SEND_MESSAGE, message, dialogIndex})\r\n","import React, {useState} from 'react';\r\nimport s from './Messages.module.css';\r\nimport {connect} from \"react-redux\";\r\nimport Interlocutors from \"./Interlocutors/Interlocutors\";\r\nimport CurrentDialog from \"./CurrentDialog/CurrentDialog\";\r\nimport {sendNewMessage} from \"../../redux/messagesPage-reducer\";\r\nimport photoMock from \"../../assets/img/photoMock.png\"\r\n\r\nconst Messages = (props) => {\r\n    let [selectedDialogIndex, changeSelectedDialogIndex] = useState(null)\r\n\r\n    // catches index of dialog that has been clicked\r\n    let selectDialog = (evt) => {\r\n        for (let i = 0; i < props.dialogsData.length; i++) {\r\n            if (props.dialogsData[i].name === evt.target.innerText) {\r\n                changeSelectedDialogIndex(i)\r\n            }\r\n        }\r\n    }\r\n    return (\r\n        <section className={s.myMessages}>\r\n            <Interlocutors {...props} selectDialog={selectDialog} photoMock={photoMock}/>\r\n            <CurrentDialog {...props} selectedDialogIndex={selectedDialogIndex}/>\r\n        </section>\r\n    );\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    dialogsData: state.messagesPage.dialogsData\r\n})\r\n\r\nexport default connect(mapStateToProps, {sendNewMessage})(Messages)\r\n","import React from 'react';\r\nimport s from './Music.module.css';\r\nimport gearImage from './../../assets/img/gear.svg'\r\n\r\nconst Music = () => {\r\n    return (\r\n        <section className={s.messages}>\r\n            <img src={gearImage} alt=\"gear icon\" width='150'/>\r\n            <p>Work in progress</p>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Music;\r\n","import {manageSubscribeAPI, usersAPI} from \"../api/api\";\r\n\r\nconst FOLLOW_USER = 'userPage-reducer/FOLLOW-USER'\r\nconst UFOLLOW_USER = 'userPage-reducer/UNFOLLOW-USER'\r\nconst LOAD_USERS = 'userPage-reducer/LOAD-USERS'\r\nconst SET_CURRENT_PAGE = 'userPage-reducer/SET-CURRENT-PAGE'\r\nconst SET_TOTAL_COUNT = 'userPage-reducer/SET-TOTAL-COUNT'\r\nconst CHANGE_PRELOADER_STATUS = 'userPage-reducer/CHANGE-PRELOADER-STATUS'\r\nconst TOGGLE_FOLLOW_PROGRESS = 'userPage-reducer/TOGGLE-FOLLOW-PROGRESS'\r\n\r\n\r\nlet initialState = {\r\n    users: [],\r\n    totalUsers: 0,\r\n    currentPage: 1,\r\n    pageLimit: 10,\r\n    isFetching: false,\r\n    isFollowInProgress: []\r\n\r\n}\r\n\r\nlet usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW_USER:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: true}\r\n                    } else {\r\n                        return {...u}\r\n                    }\r\n                })\r\n            }\r\n        case UFOLLOW_USER:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: false}\r\n                    } else {\r\n                        return {...u}\r\n                    }\r\n                })\r\n            }\r\n        case LOAD_USERS:\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.page\r\n            }\r\n        case SET_TOTAL_COUNT:\r\n            return {\r\n                ...state,\r\n                totalUsers: action.usersCount\r\n            }\r\n        case CHANGE_PRELOADER_STATUS:\r\n            return {\r\n                ...state,\r\n                isFetching: action.currentStatus\r\n            }\r\n        case TOGGLE_FOLLOW_PROGRESS:\r\n            return {\r\n                ...state,\r\n                isFollowInProgress: action.currentStatus ?\r\n                    [...state.isFollowInProgress, action.userID] :\r\n                    state.isFollowInProgress.filter(id => id !== action.userID)\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport default usersReducer;\r\n\r\nexport const getUsers = (usersData) => ({type: LOAD_USERS, users: usersData})\r\nexport const followUser = (userId) => ({type: FOLLOW_USER, userId})\r\nexport const unfollowUser = (userId) => ({type: UFOLLOW_USER, userId})\r\nexport const setCurrentPage = (page) => ({type: SET_CURRENT_PAGE, page})\r\nexport const setTotalCount = (usersCount) => ({type: SET_TOTAL_COUNT, usersCount})\r\nexport const changePreloaderStatus = (currentStatus) => ({type: CHANGE_PRELOADER_STATUS, currentStatus})\r\nexport const toggleFollowProgress = (currentStatus, userID) => ({type: TOGGLE_FOLLOW_PROGRESS, currentStatus, userID})\r\n\r\nexport const getUsersThunk = (pageLimit, currentPage) => {\r\n    return async (dispatch) => {\r\n        dispatch(setCurrentPage(currentPage));\r\n        dispatch(changePreloaderStatus(true));\r\n\r\n        let data = await usersAPI.getUsers(pageLimit, currentPage);\r\n        dispatch(changePreloaderStatus(false));\r\n        dispatch(getUsers(data.items));\r\n        dispatch(setTotalCount(data.totalCount));\r\n    }\r\n}\r\n\r\nexport const unfollowThunk = (userID) => {\r\n    return async (dispatch) => {\r\n            dispatch(toggleFollowProgress(true, userID));\r\n            let data = await manageSubscribeAPI.unfollowUser(userID);\r\n            if (data.resultCode === 0) {\r\n                dispatch(unfollowUser(userID));\r\n            }\r\n            dispatch(toggleFollowProgress(false, userID));\r\n    }\r\n}\r\n\r\nexport const followThunk = (userID) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleFollowProgress(true, userID));\r\n\r\n        let data = await manageSubscribeAPI.followUser(userID);\r\n        if (data.resultCode === 0) {\r\n            dispatch(followUser(userID));\r\n        }\r\n        dispatch(toggleFollowProgress(false, userID));\r\n    }\r\n}\r\n\r\n","import React, {useState} from \"react\";\r\nimport s from \"../Paginator/Paginator.module.css\";\r\nimport prevArrow from \"./../../../assets/img/left-arrow.svg\"\r\nimport nextArrow from \"./../../../assets/img/right-arrow.svg\"\r\n\r\nlet Paginator = (props) => {\r\n    let totalPagesCount = Math.ceil(props.totalUsers / props.pageLimit);\r\n    let pages = [];\r\n    for (let i = 1; i <= totalPagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n    let pagesPortion = 15\r\n    let portionsCount = Math.ceil(totalPagesCount / pagesPortion)\r\n\r\n    let [currentPortion, changeCurrentPortion] = useState(1)\r\n    let [currentRightBorder, changeRightBorder] = useState(pagesPortion)\r\n    let [currentLeftBorder, changeLeftBorder] = useState(1)\r\n    let nextPortion = () => {\r\n        changeRightBorder(currentRightBorder += pagesPortion)\r\n        changeLeftBorder(currentLeftBorder += pagesPortion)\r\n        changeCurrentPortion(currentPortion += 1)\r\n    }\r\n    let prevPortion = () => {\r\n        changeRightBorder(currentRightBorder -= pagesPortion)\r\n        changeLeftBorder(currentLeftBorder -= pagesPortion)\r\n        changeCurrentPortion(currentPortion -= 1)\r\n    }\r\n    return (\r\n        <div className={s.paginatorWrapper}>\r\n            {currentPortion > 1 ?\r\n                <button className={s.prevArrow} onClick={prevPortion}>\r\n                    <img src={prevArrow} alt=\"previous\" width='60'/>\r\n                </button> : <span></span>}\r\n\r\n            <div className={s.pages}>\r\n                {pages.filter((el => el <= currentRightBorder && el >= currentLeftBorder))\r\n                    .map(p => <span key={p} onClick={() => props.onPageChanged(p)}\r\n                                    className={props.currentPage === p ? s.currentPage : ''}>{p}</span>)}\r\n            </div>\r\n            {currentPortion < portionsCount ?\r\n                <button className={s.nextArrow} onClick={nextPortion}>\r\n                    <img src={nextArrow} alt=\"previous\" width='60'/>\r\n                </button> : <span></span>}\r\n        </div>\r\n    )\r\n}\r\nexport default Paginator","import React from 'react';\r\nimport s from './Users.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\nimport profileImage from '../../assets/img/nobody_profile_image.jpg';\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport Paginator from \"./Paginator/Paginator\";\r\n\r\nlet Users = (props) => {\r\n\r\n    return (\r\n        <div className={s.wrapper}>\r\n            <Paginator {...props}/>\r\n\r\n            <ul className={s.users}>\r\n                {props.isFetching && <Preloader/>}\r\n                {props.users.map(u => <li key={u.id} className={s.user}>\r\n                    <NavLink to={\"/profile/\" + u.id} className={s.profilePhoto}>\r\n                        <img src={u.photos.small === null ? profileImage : u.photos.small} alt=\"\" width=\"100\"/>\r\n                    </NavLink>\r\n                    <div className={s.userWrapper}>\r\n                        <p className={s.userName}>{u.name}</p>\r\n                        <p className={s.userLocation}>{u.location}</p>\r\n                        <p className={s.userStatus}>{u.status}</p>\r\n                    </div>\r\n                    {u.followed ?\r\n                        <button disabled={props.isFollowInProgress.some(id => id === u.id)} onClick={() => {\r\n                            props.unfollowThunk(u.id);\r\n                        }} className={s.followButton}>Unfollow</button> :\r\n                        <button disabled={props.isFollowInProgress.some(id => id === u.id)} onClick={() => {\r\n                            props.followThunk(u.id)\r\n                        }} className={s.followButton}>Follow</button>}\r\n                </li>)}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users;\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport {\r\n    setCurrentPage,\r\n    getUsersThunk,\r\n    followThunk, unfollowThunk\r\n} from \"../../redux/usersPage-reducer\";\r\nimport Users from \"./Users\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {withAuthHoc} from \"../../hoc/withAuthHoc\";\r\n\r\n\r\nclass UsersData extends React.Component {\r\n    componentDidMount() {\r\n        this.props.getUsersThunk(this.props.pageLimit, this.props.currentPage)\r\n    }\r\n\r\n    onPageChanged = (currentPage) => {\r\n        this.props.getUsersThunk(this.props.pageLimit, currentPage)\r\n    }\r\n\r\n    render() {\r\n        return <Users totalUsers={this.props.totalUsers}\r\n                      pageLimit={this.props.pageLimit}\r\n                      currentPage={this.props.currentPage}\r\n                      users={this.props.users}\r\n                      onPageChanged={this.onPageChanged}\r\n                      followUser={this.props.followUser}\r\n                      unfollowUser={this.props.unfollowUser}\r\n                      isFetching={this.props.isFetching}\r\n                      isFollowInProgress={this.props.isFollowInProgress}\r\n                      toggleFollowProgress={this.props.toggleFollowProgress}\r\n                      unfollowThunk={this.props.unfollowThunk}\r\n                      followThunk={this.props.followThunk}/>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: state.usersPage.users,\r\n        totalUsers: state.usersPage.totalUsers,\r\n        currentPage: state.usersPage.currentPage,\r\n        pageLimit: state.usersPage.pageLimit,\r\n        isFetching: state.usersPage.isFetching,\r\n        isFollowInProgress: state.usersPage.isFollowInProgress\r\n    }\r\n}\r\n\r\nexport default compose (\r\n    connect(mapStateToProps, {setCurrentPage, getUsersThunk, followThunk, unfollowThunk}),\r\n    withAuthHoc\r\n) (UsersData);","import React from 'react';\r\nimport s from './Header.module.css';\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <div className={s.wrapper}>\r\n                <img src=\"https://image.flaticon.com/icons/svg/471/471468.svg\"\r\n                 height=\"50\" alt=\"logo\"/>\r\n\r\n             {props.authData.isAuthorized ?\r\n                 <div>\r\n                     <p className={s.login}>{props.authData.login}</p>\r\n                     <button className={s.logout} onClick={props.logout}>Logout</button>\r\n                 </div>\r\n                 : <p className={s.login}>Login</p>}\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import {authAPI, securityAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_AUTH_DATA = 'appReducer/SET-AUTH-DATA'\r\nconst CHECK_AUTH_DATA = 'appReducer/CHECK-AUTH-DATA'\r\nconst SET_CAPTCHA_URL = 'appReducer/SET_CAPTCHA_URL'\r\n\r\nlet initialState = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    isAuthorized: false,\r\n    captchaUrl: null\r\n}\r\n\r\nlet authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_AUTH_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.data\r\n            }\r\n        case CHECK_AUTH_DATA:\r\n            return {\r\n                ...state,\r\n                isAuthorized: action.status\r\n            }\r\n        case SET_CAPTCHA_URL:\r\n            return {\r\n                ...state,\r\n                captchaUrl: action.url\r\n            }\r\n        default:\r\n            return state\r\n\r\n    }\r\n}\r\nexport default authReducer;\r\n\r\nexport const setAuthData = (data) => ({type: SET_AUTH_DATA, data})\r\nexport const checkAuthData = (status) => ({type: CHECK_AUTH_DATA, status})\r\nexport const setCaptchaUrl = (url) => ({type: SET_CAPTCHA_URL, url})\r\n\r\nexport const loginThunk = (loginData) => {\r\n    return async (dispatch) => {\r\n        let data = await authAPI.login(loginData);\r\n        if (data.resultCode === 0) {\r\n            let authData = await authAPI.getAuthData();\r\n            if (authData.resultCode === 0) {\r\n                dispatch(setAuthData(authData.data))\r\n                dispatch(checkAuthData(true))\r\n                dispatch(setCaptchaUrl(null))\r\n            }\r\n        } else {\r\n            if (data.resultCode === 10) {\r\n                let captchaResponse = await securityAPI.getCaptcha()\r\n                dispatch(setCaptchaUrl(captchaResponse.url))\r\n            }\r\n            dispatch(stopSubmit(\"login\", {_error: data.messages[0] || \"Authentication error\"}))\r\n        }\r\n    }\r\n}\r\n\r\nexport const logout = () => {\r\n    return async (dispatch) => {\r\n        await authAPI.logout();\r\n        dispatch(checkAuthData(false))\r\n        dispatch(setAuthData({id:null, email:null, login:null}))\r\n    }\r\n}","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\n\r\nclass HeaderApi extends React.Component {\r\n    render() {\r\n        return <Header authData={this.props.authData} logout={this.props.logout}/>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    authData: state.authReducer\r\n});\r\n\r\nconst HeaderContainer = connect(mapStateToProps, {logout})(HeaderApi);\r\n\r\nexport default HeaderContainer;","import React, {useState} from \"react\";\r\nimport s from './Login.module.css'\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {required} from \"../../utilities/validators\";\r\nimport {Input} from \"../common/FormsControls/FormsControls\";\r\nimport {loginThunk} from \"../../redux/auth-reducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nlet LoginForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className={s.form}>\r\n            <div className={s.formInnerWrapper}>\r\n                <Field component={Input} name='email' type='email' placeholder='email'\r\n                       className={s.formLogin} validate={[required]}/>\r\n                <Field component={Input} name='password' type='password'\r\n                       placeholder='password' validate={[required]} className={s.formPassword}/>\r\n                <div className={s.loginBottom}>\r\n                    {props.isLoading ?\r\n                        <button className={s.disabledButton} disabled={true}>Loading..</button> :\r\n                        <button type='submit' className={s.formSubmit}>Log in</button>}\r\n\r\n                    <label className={s.rememberMeWrapper}>\r\n                        <Field component='input' type='checkbox' name='rememberMe' className={s.checkboxInput}/>\r\n                        <span>remember me</span>\r\n                    </label>\r\n                </div>\r\n                {props.captchaUrl && <img src={props.captchaUrl} alt='captcha'/>}\r\n                {props.captchaUrl && <Field component={Input} type='text' name={'captcha'}/>}\r\n                {props.error && <p className={s.formError}>{props.error}</p>}\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nlet LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\nlet Login = (props) => {\r\n    let [isLoading, changeLoadingStatus] = useState(false);\r\n\r\n    const onSubmit = (formData) => {\r\n        changeLoadingStatus(true);\r\n        props.loginThunk(formData).then(()=> {changeLoadingStatus(false)});\r\n    }\r\n\r\n    if (props.isAuthorized) return <Redirect to={'/profile'}></Redirect>\r\n    return (\r\n        <div className={s.loginWrapper}>\r\n            <h1 className='visually-hidden'>User Login</h1>\r\n            <LoginReduxForm isLoading={isLoading} captchaUrl={props.captchaUrl} onSubmit={onSubmit}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    isAuthorized: state.authReducer.isAuthorized,\r\n    captchaUrl: state.authReducer.captchaUrl\r\n});\r\n\r\nlet LoginWithAuth = connect(mapStateToProps, {loginThunk})(Login)\r\nexport default LoginWithAuth;\r\n","import React from 'react';\r\nimport s from './News.module.css';\r\nimport gearImage from './../../assets/img/gear.svg'\r\n\r\nconst News = () => {\r\n    return (\r\n        <section className={s.news}>\r\n            <img src={gearImage} alt=\"gear icon\" width='150'/>\r\n            <p>Work in progress</p>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default News;\r\n","import React from \"react\";\r\nimport News from \"./News\";\r\nimport {compose} from \"redux\";\r\nimport {withAuthHoc} from \"../../hoc/withAuthHoc\";\r\n\r\nclass NewsContainer extends React.Component {\r\n    render() {\r\n        return <News {...this.props}/>\r\n    }\r\n}\r\nexport default compose(\r\n    withAuthHoc\r\n) (NewsContainer)","import React from 'react';\r\nimport s from './Settings.module.css';\r\nimport gearImage from './../../assets/img/gear.svg'\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <section className={s.settings}>\r\n            <img src={gearImage} alt=\"gear icon\" width='150'/>\r\n            <p>Work in progress</p>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Settings;\r\n","import React from \"react\";\r\nimport {compose} from \"redux\";\r\nimport {withAuthHoc} from \"../../hoc/withAuthHoc\";\r\nimport Settings from \"./Settings\";\r\n\r\nclass SettingsContainer extends React.Component {\r\n    render() {\r\n        return <Settings {...this.props}/> // не уверен, что работают пропсы\r\n    }\r\n}\r\nexport default compose(\r\n    withAuthHoc\r\n) (SettingsContainer)","import {authAPI} from \"../api/api\";\r\nimport {checkAuthData, setAuthData} from \"./auth-reducer\";\r\nconst UPDATE_AUTHORIZATION = 'appReducer/UPDATE-AUTHORIZATION'\r\n\r\nlet initialState = {\r\n    authorized: false\r\n}\r\n\r\nlet appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case UPDATE_AUTHORIZATION:\r\n            return {\r\n                ...state,\r\n                authorized: action.status\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n\r\n}\r\nexport let updateAuthorization = (status) => ({type: UPDATE_AUTHORIZATION, status})\r\n\r\nexport let initializeThunk = () => {\r\n    return async (dispatch) => {\r\n        let authData = await authAPI.getAuthData()\r\n        if (authData.resultCode === 0) {\r\n            dispatch(setAuthData(authData.data))\r\n            dispatch(checkAuthData(true))\r\n        }\r\n        dispatch(updateAuthorization(true))\r\n\r\n\r\n    }\r\n}\r\n\r\nexport default appReducer;","import React from 'react';\r\nimport './App.css';\r\nimport NavBar from './components/NavBar/NavBar';\r\nimport ProfileContainer from './components/Profile/ProfileContainer';\r\nimport Messages from \"./components/Messages/Messages\";\r\nimport {Redirect, Route, Switch} from \"react-router-dom\";\r\nimport Music from \"./components/Music/Music\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport LoginWithAuth from \"./components/Login/Login\";\r\nimport NewsContainer from \"./components/News/NewsContainer\";\r\nimport SettingsContainer from \"./components/Settings/SettingsContainer\";\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\nimport {connect} from \"react-redux\";\r\nimport {initializeThunk} from \"./redux/appReducer\";\r\nimport ErrorPage from \"./components/common/ErrorPage/ErrorPage\";\r\n\r\nclass App extends React.Component {\r\n    componentDidMount() {\r\n        this.props.initializeThunk()\r\n    }\r\n\r\n    render() {\r\n        if (this.props.authorized) {\r\n            return (\r\n                <div className=\"page-wrapper\">\r\n                    <HeaderContainer/>\r\n                    <div className=\"container\">\r\n                        <NavBar/>\r\n                        <Switch>\r\n                            <Route path='/login' component={LoginWithAuth}/>\r\n                            <Route path='/profile/:userId?' render={() => <ProfileContainer/>}/>\r\n                            <Route path='/messages' render={() => <Messages/>}/>\r\n                            <Route path='/users' render={() => <UsersContainer/>}/>\r\n                            <Route path='/news' component={NewsContainer}/>\r\n                            <Route path='/music' component={Music}/>\r\n                            <Route path='/settings' component={SettingsContainer}/>\r\n                            <Redirect from='/' to={'/profile'} exact/>\r\n                            {/*<Route path='*' component={ErrorPage}/>*/}\r\n                        </Switch>\r\n                    </div>\r\n                </div>\r\n            );\r\n        } else {\r\n            return <Preloader/>\r\n        }\r\n\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        authorized: state.app.authorized\r\n    }\r\n}\r\n\r\nlet AppWithCheck = connect(mapStateToProps, {initializeThunk})(App)\r\n\r\nexport default AppWithCheck;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","let initialState = {\r\n    friendsData: [\r\n        {id: 1, name: \"Sasha\", img: \"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/LACMTA_Circle_Gold_Line.svg/1200px-LACMTA_Circle_Gold_Line.svg.png\"},\r\n        {id: 2, name: \"Pasha\", img: \"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/LACMTA_Circle_Gold_Line.svg/1200px-LACMTA_Circle_Gold_Line.svg.png\"},\r\n        {id: 3, name: \"Masha\", img: \"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/LACMTA_Circle_Gold_Line.svg/1200px-LACMTA_Circle_Gold_Line.svg.png\"}\r\n    ]\r\n}\r\n\r\nlet navbarReducer = (state = initialState) => {\r\n    return state\r\n}\r\nexport default navbarReducer;","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport messagesReducer from \"./messagesPage-reducer\";\r\nimport navBarReducer from \"./navBar-reducer\";\r\nimport profileReducer from \"./profilePage-reducer\";\r\nimport usersReducer from \"./usersPage-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from \"./appReducer\";\r\n\r\n\r\nlet reducers = combineReducers({\r\n    messagesPage: messagesReducer,\r\n    navBar: navBarReducer,\r\n    profilePage: profileReducer,\r\n    usersPage: usersReducer,\r\n    authReducer: authReducer,\r\n    app: appReducer,\r\n    form: formReducer\r\n})\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport store from \"./redux/redux-store\";\nimport {BrowserRouter} from \"react-router-dom\";\nimport {Provider} from \"react-redux\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <BrowserRouter>\n            <Provider store={store}>\n                <App/>\n            </Provider>\n        </BrowserRouter>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\nserviceWorker.unregister();\n\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__2D1Be\",\"postImage\":\"Post_postImage__2a6IH\",\"message\":\"Post_message__3Pg5c\",\"likes\":\"Post_likes__22rX0\",\"labelWrapper\":\"Post_labelWrapper__PrmkP\"};","module.exports = __webpack_public_path__ + \"static/media/gear.10c94f85.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"info\":\"Info_info__5ZUTm\",\"avatar\":\"Info_avatar__1l_7r\",\"editButton\":\"Info_editButton__3MvF2\",\"imageWrapper\":\"Info_imageWrapper__1tezk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginatorWrapper\":\"Paginator_paginatorWrapper__3CMaU\",\"currentPage\":\"Paginator_currentPage__3ZeH2\",\"pages\":\"Paginator_pages__3sXxd\",\"prevArrow\":\"Paginator_prevArrow__3rFU9\",\"nextArrow\":\"Paginator_nextArrow__2zFse\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2c1ft\",\"wrapper\":\"Header_wrapper__1Ne_n\",\"login\":\"Header_login__bdPv2\",\"logout\":\"Header_logout__18RWM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"Friends_list__4pkY-\",\"item\":\"Friends_item__2bRq6\",\"friends\":\"Friends_friends__1h3RO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fieldWrapper\":\"FormsControls_fieldWrapper__165Lv\",\"error\":\"FormsControls_error__1pCoy\",\"errorMessage\":\"FormsControls_errorMessage__3ZmnC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"personal\":\"PersonalInfo_personal__1JbhC\",\"name\":\"PersonalInfo_name__1uHye\",\"jobWrapper\":\"PersonalInfo_jobWrapper__1xuZg\",\"status\":\"PersonalInfo_status__3biW2\",\"editWrapper\":\"PersonalInfo_editWrapper__2fvQw\",\"editButton\":\"PersonalInfo_editButton__2L9AF\",\"cancelButton\":\"PersonalInfo_cancelButton__seGkg\",\"table\":\"PersonalInfo_table__iRuR3\",\"title\":\"PersonalInfo_title__wwYe_\",\"statusInput\":\"PersonalInfo_statusInput__LMzcE\",\"contactTitle\":\"PersonalInfo_contactTitle__2yQEp\",\"contactsWrapper\":\"PersonalInfo_contactsWrapper__eI0NB\",\"personalTitle\":\"PersonalInfo_personalTitle__2-E0t\",\"socialWrapper\":\"PersonalInfo_socialWrapper__2VQ13\",\"disabledSaveButton\":\"PersonalInfo_disabledSaveButton__1dxRD\"};","module.exports = __webpack_public_path__ + \"static/media/nobody_profile_image.461b9611.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"peopleWrapper\":\"Interlocutors_peopleWrapper__msTBA\",\"dialog\":\"Interlocutors_dialog__2h381\",\"dialogPhoto\":\"Interlocutors_dialogPhoto__3RqiC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__onn2I\"};"],"sourceRoot":""}